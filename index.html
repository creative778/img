<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ULTIMATE Bangla Image Generator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;700;900&family=Hind+Siliguri:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
  margin:0;padding:20px;
  font-family:Poppins,sans-serif;
  background:#020617;color:#fff
}
.container{
  max-width:1300px;margin:auto;
  background:#020617;padding:25px;
  border-radius:20px
}
h1{text-align:center;margin-bottom:10px}
.grid{
  display:grid;grid-template-columns:1fr 1fr;gap:20px
}
.box{
  background:#020617;border:1px solid #1e293b;
  padding:20px;border-radius:14px
}
label{display:block;margin:10px 0 6px;font-weight:600}
textarea,input,select{
  width:100%;padding:12px;border-radius:8px;border:none
}
textarea{min-height:120px}
button{
  padding:15px;border:none;border-radius:12px;
  background:linear-gradient(135deg,#2563eb,#9333ea);
  color:#fff;font-weight:700;cursor:pointer;width:100%
}
canvas{
  margin-top:25px;
  max-width:100%;
  border-radius:16px;background:#000
}
.actions{display:flex;gap:15px;margin-top:15px}
@media(max-width:900px){
  .grid{grid-template-columns:1fr}
}
</style>
</head>

<body>
<div class="container">
<h1>ðŸ‘‘ Bangla Image Generator â€“ FINAL ULTIMATE</h1>

<div class="grid">

<div class="box">
<label>Bangla Text</label>
<textarea id="text">à¦†à¦®à¦¾à¦° à¦¬à¦¾à¦‚à¦²à¦¾ à¦†à¦®à¦¾à¦° à¦…à¦¹à¦‚à¦•à¦¾à¦°</textarea>

<label>Font</label>
<select id="font">
<option value="Noto Sans Bengali">Noto Sans Bengali</option>
<option value="Hind Siliguri">Hind Siliguri</option>
<option value="Arial">Arial</option>
</select>

<label>Template</label>
<select id="template">
<option value="fb">Facebook (1200Ã—628)</option>
<option value="square">Square (1080Ã—1080)</option>
<option value="story">Story (1080Ã—1920)</option>
<option value="4k">4K (3840Ã—2160)</option>
</select>

<label>Background Type</label>
<select id="bgType">
<option value="solid">Solid Color</option>
<option value="gradient">Gradient</option>
<option value="image">Image Upload</option>
</select>

<label>Upload Background Image</label>
<input type="file" id="bgImage">
</div>

<div class="box">
<label>Background Color 1</label>
<input type="color" id="bg1" value="#2563eb">

<label>Background Color 2</label>
<input type="color" id="bg2" value="#9333ea">

<label>Text Color</label>
<input type="color" id="color" value="#ffffff">

<label>Watermark Text</label>
<input type="text" id="watermark" value="ARS">

<label>Blur Background</label>
<input type="range" id="blur" min="0" max="20" value="0">
</div>

</div>

<div class="actions">
<button onclick="generate()">âœ¨ Generate</button>
<button onclick="download()">â¬‡ Download</button>
</div>

<canvas id="canvas"></canvas>
</div>

<script>
const canvas=document.getElementById("canvas");
const ctx=canvas.getContext("2d");
let bgImg=null;

document.getElementById("bgImage").onchange=e=>{
  const f=e.target.files[0];
  if(!f)return;
  const img=new Image();
  img.onload=()=>bgImg=img;
  img.src=URL.createObjectURL(f);
};

function setSize(t){
 if(t==="fb"){canvas.width=1200;canvas.height=628;}
 if(t==="square"){canvas.width=1080;canvas.height=1080;}
 if(t==="story"){canvas.width=1080;canvas.height=1920;}
 if(t==="4k"){canvas.width=3840;canvas.height=2160;}
}

function wrap(text,x,y,max,lh){
 const w=text.split(" ");let line="",yy=y;
 w.forEach(word=>{
  let test=line+word+" ";
  if(ctx.measureText(test).width>max){
    ctx.fillText(line,x,yy);line=word+" ";yy+=lh;
  }else line=test;
 });
 ctx.fillText(line,x,yy);
}

function generate(){
 const t=document.getElementById("text").value;
 const f=document.getElementById("font").value;
 const col=document.getElementById("color").value;
 const wm=document.getElementById("watermark").value;
 const bg1=document.getElementById("bg1").value;
 const bg2=document.getElementById("bg2").value;
 const type=document.getElementById("template").value;
 const bgType=document.getElementById("bgType").value;
 const blur=document.getElementById("blur").value;

 setSize(type);

 ctx.clearRect(0,0,canvas.width,canvas.height);

 if(bgType==="image" && bgImg){
  ctx.filter=`blur(${blur}px)`;
  ctx.drawImage(bgImg,0,0,canvas.width,canvas.height);
  ctx.filter="none";
 }else if(bgType==="gradient"){
  const g=ctx.createLinearGradient(0,0,canvas.width,canvas.height);
  g.addColorStop(0,bg1);g.addColorStop(1,bg2);
  ctx.fillStyle=g;ctx.fillRect(0,0,canvas.width,canvas.height);
 }else{
  ctx.fillStyle=bg1;ctx.fillRect(0,0,canvas.width,canvas.height);
 }

 let size=Math.floor(canvas.width/12);
 ctx.font=`900 ${size}px '${f}', sans-serif`;
 ctx.textAlign="center";ctx.textBaseline="middle";
 ctx.fillStyle=col;
 ctx.shadowColor="rgba(0,0,0,.5)";
 ctx.shadowBlur=12;

 wrap(t,canvas.width/2,canvas.height/2,canvas.width-300,size+20);

 ctx.shadowBlur=0;
 ctx.font="bold 36px Arial";
 ctx.textAlign="right";
 ctx.fillStyle="rgba(255,255,255,.6)";
 ctx.fillText(wm,canvas.width-40,canvas.height-40);
}

function download(){
 const a=document.createElement("a");
 a.download="ultimate-image.png";
 a.href=canvas.toDataURL("image/png");
 a.click();
}

generate();
</script>
</body>
</html>
